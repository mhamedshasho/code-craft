<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Code Editor Pro - Ù…Ø¹Ø§ÙŠÙ†Ø© Ù…ØªØ¬Ø§ÙˆØ¨Ø©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0c0f;
            min-height: 100vh;
            padding: 16px;
            color: #e5e7eb;
        }

        /* Ø´Ø§Ø´Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± */
        .password-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0c0f 0%, #1a1e26 100%);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 16px;
        }

        .password-container {
            background: rgba(30, 34, 40, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            padding: 48px 40px;
            max-width: 440px;
            width: 100%;
            text-align: center;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(37, 99, 235, 0.2);
        }

        .lock-icon {
            width: 88px;
            height: 88px;
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 28px;
            font-size: 36px;
            color: white;
            box-shadow: 0 10px 20px -5px rgba(37, 99, 235, 0.5);
        }

        .password-container h2 {
            color: #ffffff;
            margin-bottom: 8px;
            font-size: 28px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .password-container p {
            color: #9aa4b2;
            margin-bottom: 32px;
            font-size: 15px;
        }

        .password-input {
            width: 100%;
            padding: 18px;
            background: #0f1217;
            border: 2px solid #2c313a;
            border-radius: 14px;
            color: #ffffff;
            font-size: 20px;
            text-align: center;
            letter-spacing: 8px;
            margin-bottom: 24px;
            transition: all 0.3s;
            -webkit-appearance: none;
        }

        .password-input:focus {
            border-color: #2563eb;
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.2);
            outline: none;
        }

        .password-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            border: none;
            border-radius: 14px;
            color: white;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            -webkit-appearance: none;
        }

        .password-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px #2563eb;
        }

        .error-message {
            color: #ef4444;
            margin-top: 20px;
            font-size: 14px;
            display: none;
        }

        /* ===== Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ===== */
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: #0f1217;
            border-radius: 24px;
            border: 1px solid #2c313a;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* Header Ø£Ù†ÙŠÙ‚ */
        .header {
            background: linear-gradient(135deg, #1a1e26, #0f1217);
            padding: 24px 28px;
            border-bottom: 1px solid #2c313a;
        }

        .header h1 {
            color: #ffffff;
            font-size: 28px;
            font-weight: 700;
            letter-spacing: -0.5px;
            margin-bottom: 6px;
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
        }

        .header p {
            color: #9aa4b2;
            font-size: 14px;
        }

        /* ===== ØªØ®Ø·ÙŠØ· Ø§Ù„Ø´Ø¨ÙƒØ© ===== */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 340px;
            gap: 16px;
            padding: 16px;
        }

        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ===== Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ===== */
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        /* Toolbar */
        .toolbar {
            background: #1a1e26;
            padding: 14px;
            border-radius: 16px;
            border: 1px solid #2c313a;
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            align-items: center;
        }

        .file-info {
            display: flex;
            gap: 8px;
            background: #0f1217;
            padding: 4px;
            border-radius: 12px;
            border: 1px solid #2c313a;
        }

        .file-info input {
            padding: 10px 16px;
            border: 1px solid #2c313a;
            border-radius: 10px;
            background: #0f1217;
            color: white;
            font-size: 14px;
            min-width: 160px;
            transition: all 0.2s;
        }

        .file-info input:focus {
            border-color: #2563eb;
            outline: none;
        }

        .file-info select {
            padding: 10px 16px;
            border: 1px solid #2c313a;
            border-radius: 10px;
            background: #0f1217;
            color: white;
            font-size: 14px;
            cursor: pointer;
        }

        .btn-group {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 18px;
            border: 1px solid #2c313a;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            background: #0f1217;
            color: #ffffff;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn:hover {
            background: #2c313a;
        }

        .btn-primary {
            background: #2563eb;
            color: white;
            border: none;
        }

        .btn-primary:hover {
            background: #1d4ed8;
        }

        /* Ù…Ø­Ø±Ø±Ø§Øª Ø£Ù†ÙŠÙ‚Ø© */
        .editors-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        @media (max-width: 768px) {
            .editors-grid {
                grid-template-columns: 1fr;
            }
        }

        .editor-card {
            background: #1a1e26;
            border-radius: 16px;
            border: 1px solid #2c313a;
            overflow: hidden;
            transition: all 0.3s;
        }

        .editor-card:hover {
            border-color: #2563eb;
        }

        .editor-header {
            background: #0f1217;
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #2c313a;
        }

        .editor-title {
            font-weight: 600;
            color: white;
        }

        .editor-badge {
            background: #2563eb20;
            color: #2563eb;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            border: 1px solid #2563eb40;
        }

        textarea {
            width: 100%;
            height: 260px;
            padding: 16px;
            font-family: 'Fira Code', 'Monaco', 'Consolas', monospace;
            font-size: 13px;
            line-height: 1.6;
            border: none;
            background: #0f1217;
            color: #e5e7eb;
            direction: ltr;
            resize: none;
        }

        textarea:focus {
            outline: 1px solid #2563eb;
        }

        /* ===== Ù…Ø¹Ø§ÙŠÙ†Ø© Ù…ØªØ¬Ø§ÙˆØ¨Ø© (Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©) ===== */
        .preview-section {
            background: #1a1e26;
            border-radius: 16px;
            border: 1px solid #2c313a;
            overflow: hidden;
        }

        .preview-header {
            background: #0f1217;
            padding: 14px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #2c313a;
        }

        .preview-header h3 {
            color: white;
            font-size: 16px;
            font-weight: 600;
        }

        .device-selector {
            display: flex;
            gap: 8px;
            background: #0f1217;
            padding: 4px;
            border-radius: 40px;
            border: 1px solid #2c313a;
        }

        .device-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 30px;
            background: transparent;
            color: #9aa4b2;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }

        .device-btn:hover {
            color: white;
        }

        .device-btn.active {
            background: #2563eb;
            color: white;
        }

        .preview-container {
            padding: 24px;
            display: flex;
            justify-content: center;
            background: #0f1217;
        }

        .responsive-frame {
            border: 2px solid #2c313a;
            border-radius: 20px;
            background: white;
            transition: all 0.3s;
            overflow: hidden;
            box-shadow: 0 10px 30px -10px black;
        }

        .frame-mobile {
            width: 375px;
            height: 667px;
        }

        .frame-tablet {
            width: 768px;
            height: 1024px;
        }

        .frame-desktop {
            width: 100%;
            height: 500px;
        }

        .dimension-info {
            text-align: center;
            padding: 12px;
            color: #9aa4b2;
            font-size: 13px;
            border-top: 1px solid #2c313a;
        }

        /* ===== Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ ===== */
        .sidebar {
            background: #1a1e26;
            border-radius: 16px;
            border: 1px solid #2c313a;
            overflow: hidden;
            height: fit-content;
        }

        .sidebar-header {
            background: #0f1217;
            padding: 16px 18px;
            border-bottom: 1px solid #2c313a;
        }

        .sidebar-header h2 {
            color: white;
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tools-menu {
            display: flex;
            flex-direction: column;
            padding: 8px;
        }

        .tool-menu-item {
            padding: 12px 16px;
            border-radius: 12px;
            color: #9aa4b2;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .tool-menu-item:hover {
            background: #2c313a;
            color: white;
        }

        .tool-menu-item.active {
            background: #2563eb;
            color: white;
        }

        .tool-icon {
            width: 32px;
            height: 32px;
            background: #0f1217;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .tool-content {
            padding: 18px;
            border-top: 1px solid #2c313a;
            max-height: 500px;
            overflow-y: auto;
        }

        /* ===== Ø£Ø¯ÙˆØ§Øª Ø£Ù†ÙŠÙ‚Ø© ===== */

        /* Performance Monitor */
        .performance-dashboard {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .metric-card {
            background: #1a1e26;
            border: 1px solid #2c313a;
            border-radius: 14px;
            padding: 14px;
            text-align: center;
        }

        .metric-label {
            color: #9aa4b2;
            font-size: 12px;
            margin-bottom: 6px;
        }

        .metric-value {
            font-size: 24px;
            font-weight: 700;
            color: #2563eb;
        }

        .metric-unit {
            color: #9aa4b2;
            font-size: 11px;
            margin-right: 2px;
        }

        .performance-chart {
            background: #1a1e26;
            border: 1px solid #2c313a;
            border-radius: 14px;
            padding: 14px;
        }

        .chart-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .chart-label {
            width: 45px;
            color: #9aa4b2;
            font-size: 12px;
        }

        .chart-bar-container {
            flex: 1;
            height: 8px;
            background: #2c313a;
            border-radius: 4px;
            overflow: hidden;
        }

        .chart-bar {
            height: 100%;
            background: linear-gradient(90deg, #2563eb, #7c3aed);
            border-radius: 4px;
            transition: width 0.5s;
        }

        .chart-percent {
            width: 40px;
            color: white;
            font-size: 12px;
            text-align: right;
        }

        /* Code Statistics */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .stat-card {
            background: #1a1e26;
            border: 1px solid #2c313a;
            border-radius: 14px;
            padding: 14px;
        }

        .stat-number {
            font-size: 22px;
            font-weight: 700;
            color: #2563eb;
            margin-bottom: 4px;
        }

        .stat-name {
            color: #9aa4b2;
            font-size: 11px;
        }

        .stat-details {
            background: #1a1e26;
            border: 1px solid #2c313a;
            border-radius: 14px;
            padding: 14px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #2c313a;
            font-size: 13px;
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        /* Code Search */
        .search-box {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .search-input {
            flex: 1;
            padding: 12px;
            background: #1a1e26;
            border: 1px solid #2c313a;
            border-radius: 12px;
            color: white;
            font-size: 14px;
        }

        .search-input:focus {
            border-color: #2563eb;
            outline: none;
        }

        .search-filters {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            background: #1a1e26;
            border: 1px solid #2c313a;
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 16px;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #9aa4b2;
            font-size: 13px;
        }

        .results-list {
            background: #1a1e26;
            border: 1px solid #2c313a;
            border-radius: 12px;
            padding: 10px;
            max-height: 220px;
            overflow-y: auto;
        }

        .result-item {
            padding: 10px;
            border-bottom: 1px solid #2c313a;
            cursor: pointer;
            transition: background 0.2s;
        }

        .result-item:hover {
            background: #2c313a;
        }

        .result-item:last-child {
            border-bottom: none;
        }

        /* Password Generator */
        .password-display {
            background: #1a1e26;
            border: 1px solid #2c313a;
            border-radius: 14px;
            padding: 18px;
            font-family: monospace;
            font-size: 18px;
            color: #10b981;
            text-align: center;
            margin-bottom: 16px;
            letter-spacing: 2px;
        }

        .strength-meter {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 16px;
        }

        .strength-bar {
            flex: 1;
            height: 8px;
            background: #2c313a;
            border-radius: 4px;
            overflow: hidden;
        }

        .strength-fill {
            height: 100%;
            transition: all 0.3s;
        }

        .strength-weak { background: #ef4444; }
        .strength-medium { background: #f59e0b; }
        .strength-strong { background: #10b981; }

        .password-options {
            background: #1a1e26;
            border: 1px solid #2c313a;
            border-radius: 14px;
            padding: 14px;
        }

        .option-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #2c313a;
        }

        .option-row:last-child {
            border-bottom: none;
        }

        /* Status Bar */
        .status-bar {
            background: #1a1e26;
            padding: 12px 20px;
            display: flex;
            gap: 24px;
            border-top: 1px solid #2c313a;
            font-size: 13px;
            color: #9aa4b2;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-value {
            color: #2563eb;
            font-weight: 600;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0f1217;
        }

        ::-webkit-scrollbar-thumb {
            background: #2c313a;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #2563eb;
        }
    </style>
</head>
<body>
    <!-- Ø´Ø§Ø´Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
    <div id="passwordScreen" class="password-screen">
        <div class="password-container">
            <div class="lock-icon">ğŸ”’</div>
            <h2>Code Editor Pro</h2>
            <p>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ù…Ù„</p>
            <input type="password" id="passwordInput" class="password-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" maxlength="10" inputmode="numeric" pattern="[0-9]*">
            <button class="password-btn" onclick="checkPassword()">Ø¯Ø®ÙˆÙ„</button>
            <div id="errorMessage" class="error-message">âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©</div>
        </div>
    </div>

    <!-- Ø§Ù„Ù…Ø­Ø±Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div id="mainEditor" style="display: none;">
        <div class="container">
            <div class="header">
                <h1>Code Editor Pro</h1>
                <p>Ù…Ø­Ø±Ø± Ø£ÙƒÙˆØ§Ø¯ Ù…Ø¹ Ù…Ø¹Ø§ÙŠÙ†Ø© Ù…ØªØ¬Ø§ÙˆØ¨Ø© Ùˆ 7 Ø£Ø¯ÙˆØ§Øª Ø§Ø­ØªØ±Ø§ÙÙŠØ©</p>
            </div>

            <div class="main-grid">
                <!-- Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
                <div class="main-content">
                    <div class="toolbar">
                        <div class="file-info">
                            <input type="text" id="filename" value="project">
                            <select id="filetype">
                                <option value="html">HTML</option>
                                <option value="css">CSS</option>
                                <option value="js">JavaScript</option>
                            </select>
                        </div>
                        
                        <div class="btn-group">
                            <button class="btn btn-primary" onclick="downloadFile()">ØªÙ†Ø²ÙŠÙ„</button>
                            <button class="btn btn-primary" onclick="runCode()">ØªØ´ØºÙŠÙ„</button>
                            <button class="btn" onclick="clearAll()">Ù…Ø³Ø­</button>
                            <button class="btn" onclick="insertTemplate()">Ù‚Ø§Ù„Ø¨</button>
                        </div>
                    </div>

                    <div class="editors-grid">
                        <div class="editor-card">
                            <div class="editor-header">
                                <span class="editor-title">HTML</span>
                                <span class="editor-badge">5</span>
                            </div>
                            <textarea id="htmlCode" placeholder="Ø§ÙƒØªØ¨ ÙƒÙˆØ¯ HTML..." spellcheck="false"><!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØµÙØ­ØªÙŠ</title>
</head>
<body>
    <div class="container">
        <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…</h1>
        <button onclick="showMessage()">Ø§Ø¶ØºØ· Ù‡Ù†Ø§</button>
    </div>
</body>
</html></textarea>
                        </div>

                        <div class="editor-card">
                            <div class="editor-header">
                                <span class="editor-title">CSS</span>
                                <span class="editor-badge">3</span>
                            </div>
                            <textarea id="cssCode" placeholder="Ø§ÙƒØªØ¨ ÙƒÙˆØ¯ CSS..." spellcheck="false">body {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    font-family: system-ui;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0;
}

.container {
    text-align: center;
    padding: 40px;
    background: rgba(255,255,255,0.1);
    border-radius: 16px;
}

button {
    background: white;
    border: none;
    padding: 12px 30px;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    margin-top: 20px;
    transition: all 0.3s;
}

button:hover {
    background: #f3f4f6;
    transform: scale(1.05);
}</textarea>
                        </div>

                        <div class="editor-card">
                            <div class="editor-header">
                                <span class="editor-title">JavaScript</span>
                                <span class="editor-badge">ES6</span>
                            </div>
                            <textarea id="jsCode" placeholder="Ø§ÙƒØªØ¨ ÙƒÙˆØ¯ JavaScript..." spellcheck="false">function showMessage() {
    alert('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ');
}

console.log('Ø§Ù„ØµÙØ­Ø© Ø¬Ø§Ù‡Ø²Ø©');</textarea>
                        </div>
                    </div>

                    <!-- Ù…Ø¹Ø§ÙŠÙ†Ø© Ù…ØªØ¬Ø§ÙˆØ¨Ø© (Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©) -->
                    <div class="preview-section">
                        <div class="preview-header">
                            <h3>Ù…Ø¹Ø§ÙŠÙ†Ø© Ù…ØªØ¬Ø§ÙˆØ¨Ø©</h3>
                            <div class="device-selector">
                                <button class="device-btn active" onclick="changeDevice('mobile')">Ø¬ÙˆØ§Ù„</button>
                                <button class="device-btn" onclick="changeDevice('tablet')">ØªØ§Ø¨Ù„Øª</button>
                                <button class="device-btn" onclick="changeDevice('desktop')">ÙƒÙ…Ø¨ÙŠÙˆØªØ±</button>
                            </div>
                        </div>
                        
                        <div class="preview-container">
                            <iframe id="responsiveFrame" class="responsive-frame frame-mobile" title="Ù…Ø¹Ø§ÙŠÙ†Ø© Ù…ØªØ¬Ø§ÙˆØ¨Ø©"></iframe>
                        </div>
                        
                        <div class="dimension-info" id="dimensionInfo">
                            375 Ã— 667
                        </div>
                    </div>
                </div>

                <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
                <div class="sidebar">
                    <div class="sidebar-header">
                        <h2>
                            <span>âœ¨</span>
                            Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø°ÙƒÙŠØ©
                        </h2>
                    </div>

                    <div class="tools-menu">
                        <div class="tool-menu-item active" onclick="showTool('performance')">
                            <span class="tool-icon">ğŸ“Š</span>
                            Ù…Ø±Ø§Ù‚Ø¨ Ø§Ù„Ø£Ø¯Ø§Ø¡
                        </div>
                        <div class="tool-menu-item" onclick="showTool('stats')">
                            <span class="tool-icon">ğŸ“ˆ</span>
                            Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙƒÙˆØ¯
                        </div>
                        <div class="tool-menu-item" onclick="showTool('search')">
                            <span class="tool-icon">ğŸ”</span>
                            Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù…
                        </div>
                        <div class="tool-menu-item" onclick="showTool('formatter')">
                            <span class="tool-icon">âœ¨</span>
                            Ù…Ù†Ø³Ù‚ Ø§Ù„ÙƒÙˆØ¯
                        </div>
                        <div class="tool-menu-item" onclick="showTool('password')">
                            <span class="tool-icon">ğŸ”</span>
                            Ù…ÙˆÙ„Ø¯ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
                        </div>
                        <div class="tool-menu-item" onclick="showTool('browser')">
                            <span class="tool-icon">ğŸŒ</span>
                            ØªÙˆØ§ÙÙ‚ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª
                        </div>
                    </div>

                    <div class="tool-content">
                        <!-- 1. Performance Monitor -->
                        <div id="performanceTool">
                            <div class="performance-dashboard">
                                <div class="metric-card">
                                    <div class="metric-label">ÙˆÙ‚Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„</div>
                                    <div class="metric-value" id="loadTime">1.2</div>
                                    <span class="metric-unit">Ø«</span>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-label">Ø§Ù„Ø°Ø§ÙƒØ±Ø©</div>
                                    <div class="metric-value" id="memoryUsage">45</div>
                                    <span class="metric-unit">MB</span>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-label">Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬</div>
                                    <div class="metric-value" id="cpuUsage">12</div>
                                    <span class="metric-unit">%</span>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-label">Ø§Ù„Ø¹Ù†Ø§ØµØ±</div>
                                    <div class="metric-value" id="domCount">124</div>
                                </div>
                            </div>

                            <div class="performance-chart">
                                <div class="chart-item">
                                    <span class="chart-label">HTML</span>
                                    <div class="chart-bar-container">
                                        <div class="chart-bar" id="htmlChart" style="width: 45%;"></div>
                                    </div>
                                    <span class="chart-percent" id="htmlPercent">45%</span>
                                </div>
                                <div class="chart-item">
                                    <span class="chart-label">CSS</span>
                                    <div class="chart-bar-container">
                                        <div class="chart-bar" id="cssChart" style="width: 30%;"></div>
                                    </div>
                                    <span class="chart-percent" id="cssPercent">30%</span>
                                </div>
                                <div class="chart-item">
                                    <span class="chart-label">JS</span>
                                    <div class="chart-bar-container">
                                        <div class="chart-bar" id="jsChart" style="width: 25%;"></div>
                                    </div>
                                    <span class="chart-percent" id="jsPercent">25%</span>
                                </div>
                            </div>
                        </div>

                        <!-- 2. Code Statistics -->
                        <div id="statsTool" style="display: none;">
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-number" id="totalLines">0</div>
                                    <div class="stat-name">Ø§Ù„Ø£Ø³Ø·Ø±</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number" id="totalChars">0</div>
                                    <div class="stat-name">Ø§Ù„Ø£Ø­Ø±Ù</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number" id="totalWords">0</div>
                                    <div class="stat-name">Ø§Ù„ÙƒÙ„Ù…Ø§Øª</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number" id="functionCount">0</div>
                                    <div class="stat-name">Ø§Ù„Ø¯ÙˆØ§Ù„</div>
                                </div>
                            </div>

                            <div class="stat-details">
                                <div class="stat-row">
                                    <span>Ø£Ø³Ø·Ø± HTML</span>
                                    <span id="htmlLinesCount">0</span>
                                </div>
                                <div class="stat-row">
                                    <span>Ø£Ø³Ø·Ø± CSS</span>
                                    <span id="cssLinesCount">0</span>
                                </div>
                                <div class="stat-row">
                                    <span>Ø£Ø³Ø·Ø± JS</span>
                                    <span id="jsLinesCount">0</span>
                                </div>
                                <div class="stat-row">
                                    <span>Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª</span>
                                    <span id="commentCount">0</span>
                                </div>
                            </div>
                        </div>

                        <!-- 3. Code Search -->
                        <div id="searchTool" style="display: none;">
                            <div class="search-box">
                                <input type="text" id="searchInput" class="search-input" placeholder="Ø¨Ø­Ø«...">
                                <button class="btn btn-primary" onclick="searchCode()">Ø¨Ø­Ø«</button>
                            </div>

                            <div class="search-filters">
                                <label class="filter-option">
                                    <input type="checkbox" id="searchHtml" checked> HTML
                                </label>
                                <label class="filter-option">
                                    <input type="checkbox" id="searchCss" checked> CSS
                                </label>
                                <label class="filter-option">
                                    <input type="checkbox" id="searchJs" checked> JS
                                </label>
                                <label class="filter-option">
                                    <input type="checkbox" id="matchCase"> Ù…Ø·Ø§Ø¨Ù‚Ø© Ø­Ø§Ù„Ø©
                                </label>
                            </div>

                            <div id="searchResults" class="results-list">
                                <div style="color: #9aa4b2; text-align: center; padding: 15px;">
                                    Ø§ÙƒØªØ¨ ÙƒÙ„Ù…Ø© Ø§Ù„Ø¨Ø­Ø«
                                </div>
                            </div>
                        </div>

                        <!-- 4. Code Formatter -->
                        <div id="formatterTool" style="display: none;">
                            <div class="password-options" style="margin-bottom: 16px;">
                                <div class="option-row">
                                    <span>Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø¨Ø§Ø¯Ø¦Ø©</span>
                                    <input type="number" id="indentSize" value="2" min="2" max="8" step="2" style="width: 60px; padding: 6px; background: #0f1217; border: 1px solid #2c313a; border-radius: 6px; color: white;">
                                </div>
                                <div class="option-row">
                                    <span>ÙÙˆØ§ØµÙ„ Ù…Ù†Ù‚ÙˆØ·Ø©</span>
                                    <input type="checkbox" id="useSemicolons" checked>
                                </div>
                                <div class="option-row">
                                    <span>Ø§Ù‚ØªØ¨Ø§Ø³ Ù…ÙØ±Ø¯</span>
                                    <input type="checkbox" id="singleQuotes">
                                </div>
                            </div>

                            <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 16px;">
                                <button class="btn" onclick="formatCode('html')">HTML</button>
                                <button class="btn" onclick="formatCode('css')">CSS</button>
                                <button class="btn" onclick="formatCode('js')">JS</button>
                                <button class="btn btn-primary" onclick="formatCode('all')">Ø§Ù„ÙƒÙ„</button>
                            </div>

                            <div id="formatPreview" style="background: #1a1e26; border: 1px solid #2c313a; border-radius: 12px; padding: 12px; color: #10b981; font-family: monospace; font-size: 12px; max-height: 130px; overflow-y: auto;">
                                Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚
                            </div>
                        </div>

                        <!-- 5. Password Generator -->
                        <div id="passwordTool" style="display: none;">
                            <div class="password-display" id="generatedPassword">
                                Xk9#mP2$Lq5
                            </div>

                            <div class="strength-meter">
                                <div class="strength-bar">
                                    <div id="strengthBar" class="strength-fill strength-strong" style="width: 80%;"></div>
                                </div>
                                <span id="strengthText" style="color: white; font-size: 13px;">Ù‚ÙˆÙŠØ©</span>
                            </div>

                            <div class="password-options">
                                <div class="option-row">
                                    <span>Ø§Ù„Ø·ÙˆÙ„</span>
                                    <input type="number" id="passwordLength" value="12" min="4" max="32" style="width: 60px; padding: 6px; background: #0f1217; border: 1px solid #2c313a; border-radius: 6px; color: white;">
                                </div>
                                <div class="option-row">
                                    <span>Ø£Ø­Ø±Ù ÙƒØ¨ÙŠØ±Ø©</span>
                                    <input type="checkbox" id="includeUppercase" checked>
                                </div>
                                <div class="option-row">
                                    <span>Ø£Ø­Ø±Ù ØµØºÙŠØ±Ø©</span>
                                    <input type="checkbox" id="includeLowercase" checked>
                                </div>
                                <div class="option-row">
                                    <span>Ø£Ø±Ù‚Ø§Ù…</span>
                                    <input type="checkbox" id="includeNumbers" checked>
                                </div>
                                <div class="option-row">
                                    <span>Ø±Ù…ÙˆØ²</span>
                                    <input type="checkbox" id="includeSymbols" checked>
                                </div>
                            </div>

                            <div style="display: flex; gap: 8px; margin-top: 16px;">
                                <button class="btn btn-primary" style="flex: 1;" onclick="generatePassword()">ØªÙˆÙ„ÙŠØ¯</button>
                                <button class="btn" style="flex: 1;" onclick="copyPassword()">Ù†Ø³Ø®</button>
                            </div>
                        </div>

                        <!-- 6. Browser Compatibility -->
                        <div id="browserTool" style="display: none;">
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 16px;">
                                <div class="metric-card" style="padding: 12px;">
                                    <div style="color: white; margin-bottom: 5px;">Chrome</div>
                                    <div style="font-size: 13px; color: #10b981;">âœ“ Ù…Ø¯Ø¹ÙˆÙ…</div>
                                </div>
                                <div class="metric-card" style="padding: 12px;">
                                    <div style="color: white; margin-bottom: 5px;">Firefox</div>
                                    <div style="font-size: 13px; color: #10b981;">âœ“ Ù…Ø¯Ø¹ÙˆÙ…</div>
                                </div>
                                <div class="metric-card" style="padding: 12px;">
                                    <div style="color: white; margin-bottom: 5px;">Safari</div>
                                    <div style="font-size: 13px; color: #f59e0b;">âš ï¸ Ø¬Ø²Ø¦ÙŠ</div>
                                </div>
                                <div class="metric-card" style="padding: 12px;">
                                    <div style="color: white; margin-bottom: 5px;">Edge</div>
                                    <div style="font-size: 13px; color: #10b981;">âœ“ Ù…Ø¯Ø¹ÙˆÙ…</div>
                                </div>
                            </div>

                            <div class="stat-details">
                                <div class="stat-row">
                                    <span>HTML5</span>
                                    <span style="color: #10b981;">âœ“</span>
                                </div>
                                <div class="stat-row">
                                    <span>CSS3</span>
                                    <span style="color: #10b981;">âœ“</span>
                                </div>
                                <div class="stat-row">
                                    <span>Flexbox</span>
                                    <span style="color: #10b981;">âœ“</span>
                                </div>
                                <div class="stat-row">
                                    <span>Grid</span>
                                    <span style="color: #10b981;">âœ“</span>
                                </div>
                                <div class="stat-row">
                                    <span>ES6</span>
                                    <span style="color: #10b981;">âœ“</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Status Bar -->
            <div class="status-bar">
                <div class="status-item">
                    <span>ğŸ“</span>
                    Ø§Ù„Ù…Ù„Ù: <span class="status-value" id="currentFile">project.html</span>
                </div>
                <div class="status-item">
                    <span>ğŸ“Š</span>
                    Ø§Ù„Ø­Ø§Ù„Ø©: <span class="status-value" id="status">Ø¬Ø§Ù‡Ø²</span>
                </div>
                <div class="status-item">
                    <span>ğŸ’¾</span>
                    Ø¢Ø®Ø± Ø­ÙØ¸: <span class="status-value" id="lastSaved">-</span>
                </div>
                <div class="status-item">
                    <span>âš¡</span>
                    Ø§Ù„Ø£Ø¯Ø§Ø¡: <span class="status-value" id="performanceStatus">Ù…Ù…ØªØ§Ø²</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ==========
        const CORRECT_PASSWORD = "0995960632";

        function checkPassword() {
            const password = document.getElementById('passwordInput').value;
            
            if (password === CORRECT_PASSWORD) {
                document.getElementById('passwordScreen').style.display = 'none';
                document.getElementById('mainEditor').style.display = 'block';
                
                runCode();
                updateCurrentFile();
                startAutoSave();
                startPerformanceMonitoring();
                updateAllStats();
            } else {
                document.getElementById('errorMessage').style.display = 'block';
                document.getElementById('passwordInput').value = '';
                
                setTimeout(() => {
                    document.getElementById('errorMessage').style.display = 'none';
                }, 2000);
            }
        }

        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });

        // ========== Ø§Ù„Ù…Ø­Ø±Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ ==========
        function runCode() {
            const html = document.getElementById('htmlCode').value;
            const css = document.getElementById('cssCode').value;
            const js = document.getElementById('jsCode').value;
            
            const content = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <style>${css}</style>
                </head>
                <body>
                    ${html}
                    <script>${js}<\/script>
                </body>
                </html>
            `;
            
            document.getElementById('responsiveFrame').srcdoc = content;
            
            updateStatus('ØªÙ… Ø§Ù„ØªØ´ØºÙŠÙ„');
            updateAllStats();
        }

        function downloadFile() {
            const filename = document.getElementById('filename').value;
            const filetype = document.getElementById('filetype').value;
            let content = '';
            
            switch(filetype) {
                case 'html': content = document.getElementById('htmlCode').value; break;
                case 'css': content = document.getElementById('cssCode').value; break;
                case 'js': content = document.getElementById('jsCode').value; break;
            }
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename + '.' + filetype;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            updateStatus('ØªÙ… Ø§Ù„ØªÙ†Ø²ÙŠÙ„');
        }

        function clearAll() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ØŸ')) {
                document.getElementById('htmlCode').value = '';
                document.getElementById('cssCode').value = '';
                document.getElementById('jsCode').value = '';
                runCode();
                updateStatus('ØªÙ… Ø§Ù„Ù…Ø³Ø­');
            }
        }

        function insertTemplate() {
            document.getElementById('htmlCode').value = `<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù‚Ø§Ù„Ø¨ Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
</head>
<body>
    <nav>
        <h2>Ø´Ø¹Ø§Ø±</h2>
        <ul>
            <li><a href="#">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
            <li><a href="#">Ù…Ù† Ù†Ø­Ù†</a></li>
            <li><a href="#">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
        </ul>
    </nav>
    
    <main>
        <section class="hero">
            <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ…</h1>
            <p>Ù†Øµ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„Ù„Ù‚Ø§Ù„Ø¨</p>
            <button>Ø§Ø¨Ø¯Ø£</button>
        </section>
    </main>
</body>
</html>`;
            
            document.getElementById('cssCode').value = `* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: system-ui;
    color: #333;
}

nav {
    background: #1f2937;
    color: white;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

nav ul {
    display: flex;
    list-style: none;
    gap: 20px;
}

nav a {
    color: white;
    text-decoration: none;
}

.hero {
    background: linear-gradient(135deg, #2563eb, #7c3aed);
    color: white;
    text-align: center;
    padding: 100px 20px;
}

button {
    background: white;
    color: #333;
    border: none;
    padding: 12px 30px;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    margin-top: 20px;
}`;
            
            document.getElementById('jsCode').value = `document.querySelector('button').addEventListener('click', () => {
    alert('Ù…Ø±Ø­Ø¨Ø§Ù‹');
});`;
            
            runCode();
            updateStatus('ØªÙ… Ø¥Ø¯Ø±Ø§Ø¬ Ø§Ù„Ù‚Ø§Ù„Ø¨');
        }

        function updateCurrentFile() {
            const filename = document.getElementById('filename').value;
            const filetype = document.getElementById('filetype').value;
            document.getElementById('currentFile').textContent = filename + '.' + filetype;
        }

        document.getElementById('filename').addEventListener('input', updateCurrentFile);
        document.getElementById('filetype').addEventListener('change', updateCurrentFile);

        function updateStatus(message) {
            document.getElementById('status').textContent = message;
            setTimeout(() => {
                document.getElementById('status').textContent = 'Ø¬Ø§Ù‡Ø²';
            }, 2000);
        }

        function startAutoSave() {
            setInterval(() => {
                localStorage.setItem('savedHTML', document.getElementById('htmlCode').value);
                localStorage.setItem('savedCSS', document.getElementById('cssCode').value);
                localStorage.setItem('savedJS', document.getElementById('jsCode').value);
                
                const now = new Date();
                document.getElementById('lastSaved').textContent = now.getHours() + ':' + 
                    String(now.getMinutes()).padStart(2, '0');
            }, 10000);
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø§Øª
        const savedHTML = localStorage.getItem('savedHTML');
        const savedCSS = localStorage.getItem('savedCSS');
        const savedJS = localStorage.getItem('savedJS');
        
        if (savedHTML) document.getElementById('htmlCode').value = savedHTML;
        if (savedCSS) document.getElementById('cssCode').value = savedCSS;
        if (savedJS) document.getElementById('jsCode').value = savedJS;

        // ========== Ù…Ø¹Ø§ÙŠÙ†Ø© Ù…ØªØ¬Ø§ÙˆØ¨Ø© ==========
        function changeDevice(device) {
            const frame = document.getElementById('responsiveFrame');
            
            document.querySelectorAll('.device-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            frame.className = 'responsive-frame';
            
            if (device === 'mobile') {
                frame.classList.add('frame-mobile');
                document.getElementById('dimensionInfo').textContent = '375 Ã— 667';
            } else if (device === 'tablet') {
                frame.classList.add('frame-tablet');
                document.getElementById('dimensionInfo').textContent = '768 Ã— 1024';
            } else {
                frame.classList.add('frame-desktop');
                document.getElementById('dimensionInfo').textContent = '1920 Ã— 1080';
            }
        }

        // ========== Ù…Ø±Ø§Ù‚Ø¨ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ==========
        let startTime = Date.now();
        let performanceInterval;

        function startPerformanceMonitoring() {
            performanceInterval = setInterval(() => {
                updatePerformanceMetrics();
            }, 2000);
        }

        function updatePerformanceMetrics() {
            const loadTime = ((Date.now() - startTime) / 1000).toFixed(1);
            document.getElementById('loadTime').textContent = loadTime;

            const htmlSize = document.getElementById('htmlCode').value.length;
            const cssSize = document.getElementById('cssCode').value.length;
            const jsSize = document.getElementById('jsCode').value.length;
            const totalSize = htmlSize + cssSize + jsSize;
            
            const memoryEstimate = Math.max(30, Math.min(120, Math.round(totalSize / 1000)));
            document.getElementById('memoryUsage').textContent = memoryEstimate;

            const changes = (htmlSize + cssSize + jsSize) % 100;
            const cpuEstimate = Math.max(5, Math.min(30, Math.round(changes / 3 + 10)));
            document.getElementById('cpuUsage').textContent = cpuEstimate;

            const domCount = document.querySelectorAll('*').length;
            document.getElementById('domCount').textContent = domCount;

            const performanceScore = calculatePerformanceScore(loadTime, memoryEstimate, cpuEstimate, domCount);
            document.getElementById('performanceStatus').textContent = performanceScore;

            updatePerformanceCharts(htmlSize, cssSize, jsSize);
        }

        function calculatePerformanceScore(loadTime, memory, cpu, dom) {
            let score = 100;
            
            if (loadTime > 3) score -= 20;
            else if (loadTime > 2) score -= 10;
            
            if (memory > 80) score -= 15;
            else if (memory > 50) score -= 5;
            
            if (cpu > 20) score -= 15;
            else if (cpu > 15) score -= 5;
            
            if (dom > 500) score -= 20;
            else if (dom > 200) score -= 10;
            
            if (score >= 80) return 'Ù…Ù…ØªØ§Ø²';
            if (score >= 60) return 'Ø¬ÙŠØ¯';
            if (score >= 40) return 'Ù…ØªÙˆØ³Ø·';
            return 'Ø¶Ø¹ÙŠÙ';
        }

        function updatePerformanceCharts(htmlSize, cssSize, jsSize) {
            const total = htmlSize + cssSize + jsSize || 1;
            
            const htmlPercent = Math.round((htmlSize / total) * 100);
            const cssPercent = Math.round((cssSize / total) * 100);
            const jsPercent = 100 - htmlPercent - cssPercent;
            
            document.getElementById('htmlChart').style.width = htmlPercent + '%';
            document.getElementById('cssChart').style.width = cssPercent + '%';
            document.getElementById('jsChart').style.width = jsPercent + '%';
            
            document.getElementById('htmlPercent').textContent = htmlPercent + '%';
            document.getElementById('cssPercent').textContent = cssPercent + '%';
            document.getElementById('jsPercent').textContent = jsPercent + '%';
        }

        // ========== Code Statistics ==========
        function updateAllStats() {
            const html = document.getElementById('htmlCode').value;
            const css = document.getElementById('cssCode').value;
            const js = document.getElementById('jsCode').value;
            
            const htmlLines = html.split('\n').length;
            const cssLines = css.split('\n').length;
            const jsLines = js.split('\n').length;
            const totalLines = htmlLines + cssLines + jsLines;
            
            document.getElementById('totalLines').textContent = totalLines;
            document.getElementById('htmlLinesCount').textContent = htmlLines;
            document.getElementById('cssLinesCount').textContent = cssLines;
            document.getElementById('jsLinesCount').textContent = jsLines;
            
            const totalChars = html.length + css.length + js.length;
            document.getElementById('totalChars').textContent = totalChars.toLocaleString();
            
            const words = (html + ' ' + css + ' ' + js).split(/\s+/).filter(w => w.length > 0).length;
            document.getElementById('totalWords').textContent = words.toLocaleString();
            
            const functionMatches = js.match(/function\s+\w+\([^)]*\)\s*{|const\s+\w+\s*=\s*\([^)]*\)\s*=>|\(\s*\)\s*=>/g) || [];
            document.getElementById('functionCount').textContent = functionMatches.length;
            
            const htmlComments = (html.match(/<!--[\s\S]*?-->/g) || []).length;
            const cssComments = (css.match(/\/\*[\s\S]*?\*\//g) || []).length;
            const jsComments = (js.match(/\/\/[^\n]*|\/\*[\s\S]*?\*\//g) || []).length;
            document.getElementById('commentCount').textContent = htmlComments + cssComments + jsComments;
        }

        setInterval(updateAllStats, 5000);

        // ========== Code Search ==========
        function searchCode() {
            const term = document.getElementById('searchInput').value;
            if (!term) return;

            const searchHtml = document.getElementById('searchHtml').checked;
            const searchCss = document.getElementById('searchCss').checked;
            const searchJs = document.getElementById('searchJs').checked;
            const matchCase = document.getElementById('matchCase').checked;

            const results = [];
            const flags = matchCase ? 'g' : 'gi';

            if (searchHtml) {
                const html = document.getElementById('htmlCode').value;
                const lines = html.split('\n');
                lines.forEach((line, index) => {
                    if (line.match(new RegExp(term, flags))) {
                        results.push({
                            file: 'HTML',
                            line: index + 1,
                            text: line.trim()
                        });
                    }
                });
            }

            if (searchCss) {
                const css = document.getElementById('cssCode').value;
                const lines = css.split('\n');
                lines.forEach((line, index) => {
                    if (line.match(new RegExp(term, flags))) {
                        results.push({
                            file: 'CSS',
                            line: index + 1,
                            text: line.trim()
                        });
                    }
                });
            }

            if (searchJs) {
                const js = document.getElementById('jsCode').value;
                const lines = js.split('\n');
                lines.forEach((line, index) => {
                    if (line.match(new RegExp(term, flags))) {
                        results.push({
                            file: 'JavaScript',
                            line: index + 1,
                            text: line.trim()
                        });
                    }
                });
            }

            displayResults(results);
        }

        function displayResults(results) {
            const container = document.getElementById('searchResults');
            
            if (results.length === 0) {
                container.innerHTML = '<div style="color: #9aa4b2; text-align: center; padding: 15px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</div>';
                return;
            }

            let html = '';
            results.forEach(r => {
                html += `
                    <div class="result-item" onclick="goToLine('${r.file}', ${r.line})">
                        <div style="color: #2563eb; font-size: 11px; margin-bottom: 3px;">${r.file} - Ø³Ø·Ø± ${r.line}</div>
                        <div style="color: white; font-size: 12px;">${r.text.substring(0, 80)}</div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        function goToLine(file, line) {
            let textarea;
            if (file === 'HTML') textarea = document.getElementById('htmlCode');
            else if (file === 'CSS') textarea = document.getElementById('cssCode');
            else textarea = document.getElementById('jsCode');

            const lines = textarea.value.split('\n');
            let position = 0;
            for (let i = 0; i < line - 1; i++) {
                position += lines[i].length + 1;
            }

            textarea.focus();
            textarea.setSelectionRange(position, position);
        }

        // ========== Code Formatter ==========
        function formatCode(type) {
            const indent = parseInt(document.getElementById('indentSize').value) || 2;
            const semicolons = document.getElementById('useSemicolons').checked;
            const quotes = document.getElementById('singleQuotes').checked;

            if (type === 'html' || type === 'all') {
                const html = document.getElementById('htmlCode').value;
                document.getElementById('htmlCode').value = formatHTML(html, indent);
            }

            if (type === 'css' || type === 'all') {
                const css = document.getElementById('cssCode').value;
                document.getElementById('cssCode').value = formatCSS(css, indent);
            }

            if (type === 'js' || type === 'all') {
                const js = document.getElementById('jsCode').value;
                document.getElementById('jsCode').value = formatJS(js, indent, semicolons, quotes);
            }

            document.getElementById('formatPreview').innerHTML = 'âœ… ØªÙ… ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙƒÙˆØ¯';
            setTimeout(() => {
                document.getElementById('formatPreview').innerHTML = 'Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚';
            }, 2000);

            runCode();
            updateAllStats();
        }

        function formatHTML(html, indent) {
            let formatted = '';
            let indentLevel = 0;
            const lines = html.split('\n').map(l => l.trim()).filter(l => l);

            lines.forEach(line => {
                if (line.match(/<\/[^>]+>$/)) indentLevel--;
                formatted += ' '.repeat(indentLevel * indent) + line + '\n';
                if (line.match(/<[^/][^>]*>[^<]*$/) && !line.match(/\/>$/)) indentLevel++;
            });

            return formatted;
        }

        function formatCSS(css, indent) {
            let formatted = '';
            const rules = css.split('}').filter(r => r.trim());

            rules.forEach(rule => {
                const parts = rule.split('{');
                if (parts.length === 2) {
                    const selector = parts[0].trim();
                    const properties = parts[1].split(';').filter(p => p.trim());
                    
                    formatted += selector + ' {\n';
                    properties.forEach(prop => {
                        if (prop.trim()) {
                            formatted += ' '.repeat(indent) + prop.trim() + ';\n';
                        }
                    });
                    formatted += '}\n\n';
                }
            });

            return formatted;
        }

        function formatJS(js, indent, semicolons, quotes) {
            let formatted = js
                .replace(/\s+/g, ' ')
                .replace(/\s*{\s*/g, ' {\n' + ' '.repeat(indent))
                .replace(/\s*}\s*/g, '\n}\n')
                .replace(/;\s*/g, ';\n')
                .replace(/\n\s*\n/g, '\n');

            if (quotes) formatted = formatted.replace(/"/g, "'");
            return formatted;
        }

        // ========== Password Generator ==========
        function generatePassword() {
            const length = parseInt(document.getElementById('passwordLength').value);
            const uppercase = document.getElementById('includeUppercase').checked;
            const lowercase = document.getElementById('includeLowercase').checked;
            const numbers = document.getElementById('includeNumbers').checked;
            const symbols = document.getElementById('includeSymbols').checked;

            let charset = '';
            if (uppercase) charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if (lowercase) charset += 'abcdefghijklmnopqrstuvwxyz';
            if (numbers) charset += '0123456789';
            if (symbols) charset += '!@#$%^&*()_+-=[]{}|;:,.<>?';

            if (charset === '') {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ ÙˆØ§Ø­Ø¯');
                return;
            }

            let password = '';
            for (let i = 0; i < length; i++) {
                password += charset.charAt(Math.floor(Math.random() * charset.length));
            }

            document.getElementById('generatedPassword').textContent = password;
            updateStrength(password);
        }

        function updateStrength(password) {
            let strength = 0;
            
            if (password.length >= 8) strength += 25;
            if (password.length >= 12) strength += 25;
            if (password.match(/[A-Z]/)) strength += 15;
            if (password.match(/[a-z]/)) strength += 15;
            if (password.match(/[0-9]/)) strength += 10;
            if (password.match(/[^A-Za-z0-9]/)) strength += 10;

            strength = Math.min(strength, 100);
            
            const bar = document.getElementById('strengthBar');
            const text = document.getElementById('strengthText');
            
            bar.style.width = strength + '%';
            
            if (strength < 40) {
                bar.className = 'strength-fill strength-weak';
                text.textContent = 'Ø¶Ø¹ÙŠÙØ©';
            } else if (strength < 70) {
                bar.className = 'strength-fill strength-medium';
                text.textContent = 'Ù…ØªÙˆØ³Ø·Ø©';
            } else {
                bar.className = 'strength-fill strength-strong';
                text.textContent = 'Ù‚ÙˆÙŠØ©';
            }
        }

        function copyPassword() {
            const password = document.getElementById('generatedPassword').textContent;
            navigator.clipboard.writeText(password).then(() => {
                alert('ØªÙ… Ù†Ø³Ø® ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
            });
        }

        // ========== Tool Switching ==========
        function showTool(tool) {
            const tools = ['performance', 'stats', 'search', 'formatter', 'password', 'browser'];
            
            tools.forEach(t => {
                document.getElementById(t + 'Tool').style.display = 'none';
            });
            
            document.getElementById(tool + 'Tool').style.display = 'block';
            
            document.querySelectorAll('.tool-menu-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');

            if (tool === 'password') generatePassword();
        }

        // ØªÙ‡ÙŠØ¦Ø©
        generatePassword();
        runCode();
        updateCurrentFile();
    </script>
</body>
</html>
